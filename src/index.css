@import "tailwindcss";

/* ─── DESIGN TOKENS ─────────────────────────────────────────────────────── */
:root {
  --accent:        #E8924A;
  --accent-deep:   #C9712D;
  --accent-bright: #F0A55E;
  --accent-dim:    rgba(232, 146, 74, 0.12);
  --accent-glow:   rgba(232, 146, 74, 0.22);
  --accent-border: rgba(232, 146, 74, 0.22);

  --bg:       #0C0A09;
  --bg2:      #111009;
  --surface:  #181510;
  --surface2: #1E1B14;
  --surface3: #252018;

  --border:   rgba(255, 235, 200, 0.07);
  --border2:  rgba(255, 235, 200, 0.12);
  --border3:  rgba(255, 235, 200, 0.18);

  --text:     #F5EFE6;
  --text2:    rgba(245, 239, 230, 0.48);
  --text3:    rgba(245, 239, 230, 0.26);

  --green:     #34C77B;
  --green-dim: rgba(52, 199, 123, 0.12);
  --red:       #E5534B;
  --red-dim:   rgba(229, 83, 75, 0.12);
  --amber:     #E8924A;
  --amber-dim: rgba(232, 146, 74, 0.12);

  --chest:     #E8924A; --chest-dim:     rgba(232, 146, 74, 0.14);
  --back:      #A37FD4; --back-dim:      rgba(163, 127, 212, 0.14);
  --legs:      #E5534B; --legs-dim:      rgba(229, 83, 75, 0.14);
  --shoulders: #4DB896; --shoulders-dim: rgba(77, 184, 150, 0.14);
  --arms:      #D4A843; --arms-dim:      rgba(212, 168, 67, 0.14);
  --core:      #C46B3A; --core-dim:      rgba(196, 107, 58, 0.14);

  --r-xs:   10px;
  --r-sm:   14px;
  --r:      20px;
  --r-lg:   26px;
  --r-xl:   32px;
  --r-pill: 100px;

  --nav-h: calc(60px + env(safe-area-inset-bottom, 0px));
}

/* ─── RESET ─────────────────────────────────────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  margin: 0; padding: 0;
  -webkit-user-select: none;
  user-select: none;
  -webkit-overflow-scrolling: touch;
}

html, body {
  background: var(--bg);
  color: var(--text);
  overscroll-behavior: none;
  min-height: 100dvh;
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body::after {
  content: '';
  position: fixed; inset: 0; z-index: -1; pointer-events: none;
  background:
    radial-gradient(ellipse 60% 40% at 50% 0%, rgba(232,146,74,0.06) 0%, transparent 70%),
    radial-gradient(ellipse 100% 60% at 50% 100%, rgba(0,0,0,0.4) 0%, transparent 70%);
}

#root { min-height: 100dvh; background: var(--bg); }

input, textarea { -webkit-user-select: text; user-select: text; }

::-webkit-scrollbar { width: 0; height: 0; }

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; }
input[type=number] { -moz-appearance: textfield; }

/* ─── TYPOGRAPHY ─────────────────────────────────────────────────────────── */
.t-hero  { font-size: 28px; font-weight: 800; letter-spacing: -0.04em; }
.t-title { font-size: 20px; font-weight: 700; letter-spacing: -0.02em; }
.t-label { font-size: 10.5px; font-weight: 600; letter-spacing: 0.07em; text-transform: uppercase; color: var(--text2); }
.t-mono  { font-family: 'DM Mono', 'SF Mono', monospace; font-variant-numeric: tabular-nums; letter-spacing: -0.02em; }
.t-body  { font-size: 14px; font-weight: 450; line-height: 1.55; }

/* ─── ANIMATIONS ────────────────────────────────────────────────────────── */
@keyframes fadeUp    { from { opacity:0; transform:translateY(14px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeIn    { from { opacity:0; } to { opacity:1; } }
@keyframes scaleIn   { from { opacity:0; transform:scale(0.92); } to { opacity:1; transform:scale(1); } }
@keyframes sheetIn   { from { transform:translateY(102%); } to { transform:translateY(0); } }
@keyframes slideInRight  { from { transform:translateX(100%); opacity:0; } to { transform:translateX(0); opacity:1; } }
@keyframes slideOutRight { from { transform:translateX(0); opacity:1; } to { transform:translateX(100%); opacity:0; } }
@keyframes blink    { 0%,100% { opacity:1; } 50% { opacity:0.28; } }
@keyframes checkDraw { from { stroke-dashoffset:24; } to { stroke-dashoffset:0; } }
@keyframes popIn    { 0% { transform:scale(0.5); opacity:0; } 65% { transform:scale(1.18); } 100% { transform:scale(1); opacity:1; } }
@keyframes dotPulse { 0%,100% { opacity:1; } 50% { opacity:0.25; } }
@keyframes tabEnterRight { from { opacity:0; transform:translateX(30px); } to { opacity:1; transform:translateX(0); } }
@keyframes tabEnterLeft  { from { opacity:0; transform:translateX(-30px); } to { opacity:1; transform:translateX(0); } }
@keyframes tabExitRight  { from { opacity:1; transform:translateX(0); } to { opacity:0; transform:translateX(-30px); } }
@keyframes tabExitLeft   { from { opacity:1; transform:translateX(0); } to { opacity:0; transform:translateX(30px); } }

/* Rest timer pill animations */
@keyframes pillEnter {
  0%   { opacity:0; transform:translateX(-50%) translateY(-16px) scale(0.94); }
  100% { opacity:1; transform:translateX(-50%) translateY(0) scale(1); }
}
@keyframes pillExit {
  to { opacity:0; transform:translateX(-50%) translateY(-12px) scale(0.96); }
}

/* Rest dot pulse */
@keyframes restPulse {
  0%,100% { opacity:1; transform:scale(1); }
  50%     { opacity:0.4; transform:scale(0.7); }
}

/* Workout active center button pulse */
@keyframes workoutActivePulse {
  0%,100% {
    box-shadow:
      inset 0 1.5px 0 rgba(200,255,230,0.3),
      0 0 0 1px rgba(52,199,123,0.3),
      0 4px 16px rgba(52,199,123,0.3),
      0 8px 32px rgba(52,199,123,0.15),
      0 2px 4px rgba(0,0,0,0.4);
  }
  50% {
    box-shadow:
      inset 0 1.5px 0 rgba(200,255,230,0.3),
      0 0 0 1px rgba(52,199,123,0.5),
      0 4px 24px rgba(52,199,123,0.5),
      0 8px 40px rgba(52,199,123,0.25),
      0 2px 4px rgba(0,0,0,0.4);
  }
}

/* Card rest pulse */
@keyframes cardRestPulse {
  0%,100% { box-shadow: inset 0 1px 0 rgba(255,235,200,0.07), 0 2px 12px rgba(0,0,0,0.35), 0 0 0 1px rgba(232,146,74,0.25), 0 0 20px rgba(232,146,74,0.05); }
  50%     { box-shadow: inset 0 1px 0 rgba(255,235,200,0.07), 0 2px 12px rgba(0,0,0,0.35), 0 0 0 1px rgba(232,146,74,0.45), 0 0 32px rgba(232,146,74,0.12); }
}

/* Stagger children */
.stagger-item { animation: fadeUp 0.3s cubic-bezier(0.32,0.72,0,1) both; }
.stagger-item:nth-child(1) { animation-delay: 0ms; }
.stagger-item:nth-child(2) { animation-delay: 45ms; }
.stagger-item:nth-child(3) { animation-delay: 82ms; }
.stagger-item:nth-child(4) { animation-delay: 112ms; }
.stagger-item:nth-child(5) { animation-delay: 136ms; }
.stagger-item:nth-child(6) { animation-delay: 155ms; }
.stagger-item:nth-child(7) { animation-delay: 170ms; }
.stagger-item:nth-child(8) { animation-delay: 182ms; }

/* ─── INTERACTIVE ────────────────────────────────────────────────────────── */
.pressable {
  transition: transform 0.1s cubic-bezier(0.34,1.56,0.64,1), opacity 0.1s ease;
  cursor: pointer;
}
.pressable:active { transform: scale(0.955); opacity: 0.82; }

.animate-settle { transition: all 0.32s cubic-bezier(0.32,0.72,0,1); }
.animate-bounce { transition: all 0.28s cubic-bezier(0.34,1.56,0.64,1); }

.colon { animation: blink 1s step-end infinite; }

/* ─── INPUTS ─────────────────────────────────────────────────────────────── */
/* All inputs: 16px minimum — prevents iOS zoom */
.input {
  width: 100%;
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: var(--r-sm);
  padding: 13px 15px;
  font-size: 16px;
  font-weight: 500;
  color: var(--text);
  outline: none;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
  font-family: inherit;
}
.input::placeholder { color: var(--text3); }
.input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px var(--accent-dim); }
textarea.input { resize: none; }

.set-input {
  background: transparent;
  border: none;
  border-bottom: 1.5px solid var(--border2);
  border-radius: 0;
  font-size: 22px;
  font-weight: 700;
  font-family: 'DM Mono', monospace;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.02em;
  color: var(--text);
  text-align: center;
  padding: 4px 0 6px;
  outline: none;
  transition: border-color 0.15s ease;
  width: 80px;
}
.set-input:focus { border-bottom-color: var(--accent); }
.set-input::placeholder { color: var(--text3); font-size: 15px; font-weight: 400; }
.set-input.reps { width: 64px; }

/* ─── GLASS SURFACES ─────────────────────────────────────────────────────── */

/* Main cards — session history, stats, etc. */
.card {
  background: rgba(22, 18, 12, 0.68);
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border-radius: var(--r);
  box-shadow:
    inset 0 1px 0 rgba(255, 235, 200, 0.08),
    inset 0 -1px 0 rgba(0, 0, 0, 0.25),
    0 1px 4px rgba(0, 0, 0, 0.4),
    0 0 0 0.5px rgba(255, 235, 200, 0.07);
}

/* Hero card — Today tab */
.hero-card {
  background: linear-gradient(160deg, rgba(32,24,14,0.85) 0%, rgba(14,11,8,0.92) 100%);
  backdrop-filter: blur(32px) saturate(200%);
  -webkit-backdrop-filter: blur(32px) saturate(200%);
  border-radius: var(--r-lg);
  box-shadow:
    inset 0 1.5px 0 rgba(255, 235, 200, 0.11),
    inset 1px 0 0 rgba(255, 235, 200, 0.05),
    inset -1px 0 0 rgba(255, 235, 200, 0.03),
    0 8px 40px rgba(0, 0, 0, 0.55),
    0 0 0 0.5px rgba(255, 235, 200, 0.08);
}

/* Exercise cards — most important glass surface */
.exercise-card {
  background: rgba(18, 15, 10, 0.70);
  backdrop-filter: blur(28px) saturate(190%);
  -webkit-backdrop-filter: blur(28px) saturate(190%);
  border-radius: var(--r);
  box-shadow:
    inset 0 1px 0 rgba(255, 235, 200, 0.07),
    0 2px 12px rgba(0, 0, 0, 0.35),
    0 0 0 0.5px rgba(255, 235, 200, 0.06);
  transition: box-shadow 0.4s ease;
}
.exercise-card.resting { animation: cardRestPulse 2s ease-in-out infinite; }

/* Bottom sheets */
.sheet-surface {
  background: rgba(16, 13, 9, 0.88);
  backdrop-filter: blur(56px) saturate(220%) brightness(1.05);
  -webkit-backdrop-filter: blur(56px) saturate(220%) brightness(1.05);
  border-radius: var(--r-xl) var(--r-xl) 0 0;
  box-shadow:
    inset 0 1.5px 0 rgba(255, 235, 200, 0.1),
    0 -4px 40px rgba(0, 0, 0, 0.6),
    0 -1px 0 rgba(0, 0, 0, 0.5);
}

/* Sheet drag handle */
.sheet-handle {
  width: 38px; height: 5px; border-radius: 100px;
  background: rgba(245, 239, 230, 0.18);
  margin: 12px auto 8px;
}

/* Bottom nav */
.bottom-nav {
  background: rgba(10, 8, 6, 0.80);
  backdrop-filter: blur(48px) saturate(240%) brightness(1.06);
  -webkit-backdrop-filter: blur(48px) saturate(240%) brightness(1.06);
  box-shadow:
    inset 0 1px 0 rgba(255, 235, 200, 0.09),
    0 -1px 0 rgba(0, 0, 0, 0.5);
  border-top: none;
}

/* Toast */
.toast-glass {
  background: rgba(24, 20, 12, 0.90);
  backdrop-filter: blur(40px) saturate(200%);
  -webkit-backdrop-filter: blur(40px) saturate(200%);
  border-radius: var(--r-sm);
  border: 0.5px solid rgba(232, 146, 74, 0.25);
  box-shadow:
    inset 0 1px 0 rgba(255, 235, 200, 0.08),
    0 4px 24px rgba(0, 0, 0, 0.5),
    0 0 20px rgba(232, 146, 74, 0.1);
}

/* ─── SECTION HELPERS ───────────────────────────────────────────────────── */
.section-hd {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 12px;
}

.section-header-sticky {
  position: sticky; top: 0; z-index: 10;
  padding: 8px 0;
  background: rgba(12, 10, 9, 0.80);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
}

/* Muscle pill badge */
.muscle-pill {
  display: inline-flex; align-items: center;
  padding: 3px 8px; border-radius: var(--r-pill);
  font-size: 10.5px; font-weight: 700;
  letter-spacing: 0.03em; text-transform: uppercase;
}

/* ─── KEYBOARD STATE ─────────────────────────────────────────────────────── */
.keyboard-open .bottom-nav { display: none !important; }

/* ─── REDUCED MOTION ─────────────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
